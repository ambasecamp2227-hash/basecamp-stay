<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Basecamp Stay Lonavala | Adventure & Comfort</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { 
            --forest: #2e4d23; --accent: #c0392b; --white: #ffffff; --dark: #1a1a1a; 
            --glass: rgba(255, 255, 255, 0.85);
        }
        html { scroll-behavior: smooth; }
        body { font-family: 'Segoe UI', sans-serif; margin: 0; background: #f0f2f5; color: var(--dark); line-height: 1.6; }
        
        nav {
            background: var(--glass); backdrop-filter: blur(15px);
            padding: 10px 5%; position: fixed; top: 0; width: 90%; z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1); display: flex; justify-content: space-between; align-items: center;
        }
        .logo-container img { height: 60px; }
        .nav-links a { text-decoration: none; color: var(--forest); font-weight: bold; margin-left: 20px; text-transform: uppercase; font-size: 0.85rem; }

        .container { padding: 100px 10% 60px; text-align: center; }
        header { 
            height: 80vh; background: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.5)), url('View.jpg');
            background-size: cover; background-position: center; display: flex; flex-direction: column; align-items: center; justify-content: center; color: var(--white);
        }
        
        .booking-bar {
            background: white; display: flex; flex-wrap: wrap; justify-content: center; padding: 20px;
            border-radius: 15px; box-shadow: 0 15px 30px rgba(0,0,0,0.1); margin: -50px auto 0; position: relative; z-index: 10; max-width: 900px;
        }
        .booking-item { padding: 10px 20px; border-right: 1px solid #eee; text-align: left; flex: 1; }
        .booking-item:last-of-type { border-right: none; }
        .booking-item label { display: block; font-size: 0.7rem; color: #888; text-transform: uppercase; font-weight: bold; }
        .booking-item input, .booking-item select { border: none; font-weight: bold; font-size: 1rem; width: 100%; outline: none; }

        .glass-card { background: var(--glass); backdrop-filter: blur(10px); border-radius: 20px; padding: 40px; margin-top: 30px; box-shadow: 0 8px 32px rgba(0,0,0,0.05); border: 1px solid rgba(255,255,255,0.3); }
        .book-btn { background: var(--accent); color: white; border: none; padding: 15px 30px; border-radius: 10px; font-weight: bold; cursor: pointer; transition: 0.3s; }
        .book-btn:disabled { background: #ccc; cursor: not-allowed; }

        /* Gallery Grid */
        .gallery-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 20px; }
        .gallery-item { width: 100%; height: 250px; object-fit: cover; border-radius: 15px; cursor: pointer; transition: 0.3s; }

        .policy-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; text-align: left; margin-top: 20px; }
        .policy-item { background: rgba(255,255,255,0.5); padding: 20px; border-radius: 15px; }

        .wa-float { position: fixed; bottom: 30px; right: 30px; background: #25d366; color: white; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 30px; z-index: 1000; box-shadow: 0 10px 20px rgba(0,0,0,0.1); }

        @media (max-width: 768px) {
            nav { flex-direction: column; padding: 10px; width: 100%; left: 0; }
            .nav-links { margin-top: 10px; }
            .booking-bar { flex-direction: column; margin: 20px; }
            .booking-item { border-right: none; border-bottom: 1px solid #eee; }
        }
    </style>
</head>
<body onload="fetchAvailability()">

    <nav>
        <div class="logo-container">
            <a href="#home"><img src="Black on Transparent.png" alt="Basecamp Logo"></a>
        </div>
        <div class="nav-links">
            <a href="#home">Home</a>
            <a href="#gallery">Gallery</a>
            <a href="#events">Events</a>
            <a href="#tariff">Prices</a>
            <a href="#rules">Rules</a>
        </div>
    </nav>

    <header id="home">
        <h1 style="font-size: 4rem; margin: 0;">BASECAMP STAY</h1>
        <p style="letter-spacing: 5px;">LONAVALA</p>
    </header>

    <div class="booking-bar">
        <div class="booking-item">
            <label>Check-in</label>
            <input type="date" id="checkin" onchange="calculatePrice()">
        </div>
        <div class="booking-item">
            <label>Check-out</label>
            <input type="date" id="checkout" onchange="calculatePrice()">
        </div>
        <div class="booking-item">
            <label>Guests</label>
            <select id="guests">
                <option value="2 Adults">2 Adults</option>
                <option value="4 Adults">4 Adults</option>
            </select>
        </div>
        <div style="padding: 10px 20px; text-align: center;">
            <div id="price-display" style="font-weight: bold; color: var(--forest); margin-bottom: 5px;">Select Dates</div>
            <button class="book-btn" id="book-now-btn" onclick="sendWhatsApp()">Reserve Now</button>
        </div>
    </div>

    <div class="container">
        <section id="gallery">
            <div class="glass-card">
                <h2>The Experience</h2>
                <div class="gallery-grid">
                    <img src="Room1.jpeg" class="gallery-item">
                    <img src="Room4.jpeg" class="gallery-item">
                    <img src="Room.jpeg" class="gallery-item">
                </div>
                <div style="margin-top: 30px; border-radius: 15px; overflow: hidden;">
                    <video width="100%" height="auto" controls muted autoplay loop><source src="tour.mp4" type="video/mp4"></video>
                </div>
            </div>
        </section>

        <section id="events">
            <div class="glass-card">
                <h2>Lawn & Events</h2>
                <div style="display: flex; flex-wrap: wrap; align-items: center; gap: 30px; text-align: left;">
                    <div style="flex: 1; min-width: 300px;">
                        <p>Our expansive lawn is the perfect venue for weddings and corporate gatherings of up to 400 guests.</p>
                        <button class="book-btn" style="background: var(--forest);" onclick="window.open('https://wa.me/919607772227?text=Hi! I want to inquire about the event lawn.')">Event Inquiry</button>
                    </div>
                    <div style="flex: 1; min-width: 300px;">
                        <img src="View.jpg" style="width: 100%; border-radius: 15px;" alt="Lawn">
                    </div>
                </div>
            </div>
        </section>

        <section id="tariff">
            <div class="glass-card">
                <h2>Stay Tariff</h2>
                <table style="width: 100%; border-collapse: collapse;">
                    <tr style="background: var(--forest); color: white;">
                        <th style="padding: 15px;">Day</th><th style="padding: 15px;">Rate</th>
                    </tr>
                    <tr><td style="padding: 15px;">Mon - Thu</td><td style="padding: 15px;">₹2,500</td></tr>
                    <tr style="background: rgba(0,0,0,0.03);"><td style="padding: 15px;">Fri - Sun</td><td style="padding: 15px;">₹3,500</td></tr>
                </table>
            </div>
        </section>

        <section id="rules">
            <div class="glass-card">
                <h2>Rules & Policies</h2>
                <div class="policy-grid">
                    <div class="policy-item"><h4><i class="fas fa-clock"></i> Timings</h4><p>Check-in: 12 PM | Check-out: 10:30 AM</p></div>
                    <div class="policy-item"><h4><i class="fas fa-swimming-pool"></i> Pool</h4><p>Lycra swimwear mandatory.</p></div>
                    <div class="policy-item"><h4><i class="fas fa-id-card"></i> Identity</h4><p>Aadhar card required for all guests.</p></div>
                </div>
            </div>
        </section>
    </div>

    <footer style="background: var(--dark); color: white; padding: 40px; text-align: center;">
        <img src="White on Transparent.png" alt="Logo" style="height: 80px; margin-bottom: 20px;">
        <p>© 2026 Basecamp Stay Lonavala</p>
    </footer>

    <a href="https://wa.me/919607772227" class="wa-float" target="_blank"><i class="fab fa-whatsapp"></i></a>

    <script>
        let bookedDates = {};

        async function fetchAvailability() {
            try {
                const response = await fetch('https://script.google.com/macros/s/AKfycbwN-bxtqoXPf44fnb9YlcnQNsQFznz9DEwPIiZGDNaYi8xbngGfbeJBkXmaAUio2T0/exec');
                bookedDates = await response.json();
                console.log("Availability Loaded:", bookedDates);
            } catch (error) {
                console.error("Error fetching availability:", error);
            }
        }

        function calculatePrice() {
            const checkin = new Date(document.getElementById('checkin').value);
            const checkout = new Date(document.getElementById('checkout').value);
            const btn = document.getElementById('book-now-btn');
            const display = document.getElementById('price-display');

            if (!checkin.getTime() || !checkout.getTime() || checkout <= checkin) {
                display.innerText = "Select valid dates";
                btn.disabled = true;
                return;
            }

            let total = 0;
            let tempDate = new Date(checkin);
            let isSoldOut = false;

            while (tempDate < checkout) {
                const dateStr = tempDate.toISOString().split('T')[0];
                if (bookedDates[dateStr] >= 5) {
                    isSoldOut = true;
                    break;
                }
                const day = tempDate.getDay();
                total += (day === 0 || day === 5 || day === 6) ? 3500 : 2500;
                tempDate.setDate(tempDate.getDate() + 1);
            }

            if (isSoldOut) {
                display.innerText = "SOLD OUT";
                display.style.color = "red";
                btn.disabled = true;
            } else {
                display.innerText = "Total: ₹" + total;
                display.style.color = "var(--forest)";
                btn.disabled = false;
            }
        }

        function sendWhatsApp() {
            const checkin = document.getElementById('checkin').value;
            const checkout = document.getElementById('checkout').value;
            const guests = document.getElementById('guests').value;
            const price = document.getElementById('price-display').innerText;
            const message = `*NEW BOOKING REQUEST*%0A*Check-in:* ${checkin}%0A*Check-out:* ${checkout}%0A*Guests:* ${guests}%0A*Tariff:* ${price}`;
            window.open(`https://wa.me/919607772227?text=${message}`, '_blank');
        }
    </script>
</body>
</html>